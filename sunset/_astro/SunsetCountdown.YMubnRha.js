import{r}from"./index.Cd_vQiNd.js";var E={exports:{}},h={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $;function Y(){if($)return h;$=1;var m=Symbol.for("react.transitional.element"),S=Symbol.for("react.fragment");function l(v,t,s){var a=null;if(s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),"key"in t){s={};for(var u in t)u!=="key"&&(s[u]=t[u])}else s=t;return t=s.ref,{$$typeof:m,type:v,key:a,ref:t!==void 0?t:null,props:s}}return h.Fragment=S,h.jsx=l,h.jsxs=l,h}var k;function I(){return k||(k=1,E.exports=Y()),E.exports}var n=I();function A(){const[m,S]=r.useState(""),[l,v]=r.useState(""),[t,s]=r.useState(null),[a,u]=r.useState(null),[M,j]=r.useState(""),[D,R]=r.useState(!1),[N,T]=r.useState("");r.useEffect(()=>{if(!t||!a){j("");return}const o=()=>{const e=new Date,x=Intl.DateTimeFormat().resolvedOptions().timeZone,y=new Date(t.toLocaleString("en-US",{timeZone:x})),b=new Date(a.toLocaleString("en-US",{timeZone:x})),f=new Date(y),i=new Date(b);f.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),i.setFullYear(e.getFullYear(),e.getMonth(),e.getDate());let d,p;if(e<f)d=f,p=Math.floor((d-e)/(1e3*60*60))<3?"Sunrise soon â˜€ï¸":"Sunrise in â˜€ï¸";else if(e<i)d=i,p="Sunset in ðŸŒ…";else{const w=new Date(f);w.setDate(w.getDate()+1),d=w,p=Math.floor((d-e)/(1e3*60*60))<8?"Sunrise soon â˜€ï¸":"Sunrise in â˜€ï¸"}const g=d-e;if(g<=0){j("Enjoy the daylight!");return}const F=Math.floor(g/(1e3*60*60)),q=Math.floor(g%(1e3*60*60)/(1e3*60)),C=Math.floor(g%(1e3*60)/1e3);j(`${p} ${F.toString().padStart(2,"0")}h ${q.toString().padStart(2,"0")}m ${C.toString().padStart(2,"0")}s`)};o();const c=setInterval(o,1e3);return()=>clearInterval(c)},[t,a]);const L=async o=>{R(!0),T(""),s(null),u(null);try{const e=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(o)}`)).json();if(!e?.length)throw new Error("Location not found");const{lat:x,lon:y,display_name:b}=e[0];v(b.split(",")[0].trim());const i=await(await fetch(`https://api.sunrise-sunset.org/json?lat=${x}&lng=${y}&formatted=0`)).json();if(i.status!=="OK")throw new Error("API error");s(new Date(i.results.sunrise)),u(new Date(i.results.sunset))}catch(c){T(c.message||"Something went wrong")}finally{R(!1)}},_=o=>{o.preventDefault(),m.trim()&&L(m)};return r.useEffect(()=>{!l&&"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(async o=>{const{latitude:c,longitude:e}=o.coords;await L(`${c},${e}`)},()=>console.log("Geolocation denied"))},[]),n.jsx("div",{className:"min-h-screen flex items-center justify-center text-white p-4",children:n.jsx("div",{className:"max-w-md w-full",children:n.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl shadow-2xl p-8 text-center",children:[n.jsx("h1",{className:"text-5xl font-bold mb-2",children:"Sun Tracker"}),l&&n.jsxs("p",{className:"text-xl opacity-90 mb-8",children:["in ",l]}),n.jsx("form",{onSubmit:_,className:"mb-8",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("input",{type:"text",value:m,onChange:o=>S(o.target.value),placeholder:"Enter city or place...",className:"flex-1 px-5 py-4 rounded-xl bg-white/20 placeholder-white/60 focus:outline-none focus:ring-4 focus:ring-white/50 text-white"}),n.jsx("button",{type:"submit",disabled:D,className:"px-8 py-4 bg-white/30 hover:bg-white/40 rounded-xl font-semibold transition disabled:opacity-50",children:D?"...":"Go"})]})}),N&&n.jsx("p",{className:"text-red-300 mb-6",children:N}),n.jsx("div",{className:"text-7xl font-bold tracking-wider mb-4",children:M||"-- : -- : --"}),n.jsx("div",{className:"mt-12 flex justify-center",children:n.jsx("div",{className:"w-40 h-40 bg-yellow-300 rounded-full shadow-2xl animate-pulse"})})]})})})}export{A as default};
