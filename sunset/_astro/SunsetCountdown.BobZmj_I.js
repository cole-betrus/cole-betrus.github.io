import{r as a}from"./index.Cd_vQiNd.js";var E={exports:{}},p={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P;function C(){if(P)return p;P=1;var f=Symbol.for("react.transitional.element"),j=Symbol.for("react.fragment");function d(y,s,o){var i=null;if(o!==void 0&&(i=""+o),s.key!==void 0&&(i=""+s.key),"key"in s){o={};for(var x in s)x!=="key"&&(o[x]=s[x])}else o=s;return s=o.ref,{$$typeof:f,type:y,key:i,ref:s!==void 0?s:null,props:o}}return p.Fragment=j,p.jsx=d,p.jsxs=d,p}var M;function J(){return M||(M=1,E.exports=C()),E.exports}var t=J();function I(){const[f,j]=a.useState(""),[d,y]=a.useState(""),[s,o]=a.useState(null),[i,x]=a.useState(null),[g,R]=a.useState(null),[b,N]=a.useState(""),[$,T]=a.useState(!1),[k,L]=a.useState("");a.useEffect(()=>{if(s===null||i===null||g===null){N("");return}if(g===0||g>=23*3600){N("Polar Day/Night â€” Extreme sunlight conditions");return}const n=()=>{const c=Date.now();let v=s+(c>s?864e5:0),S=i+(c>i?864e5:0),m,e;v<S?(m=v,e=(m-c)/36e5<3?"Sunrise soon":"Sunrise in"):(m=S,e="Sunset in");const r=m-c,D=Math.floor(r/36e5),h=Math.floor(r%36e5/6e4),l=Math.floor(r%6e4/1e3);N(`${e} ${D.toString().padStart(2,"0")}h ${h.toString().padStart(2,"0")}m ${l.toString().padStart(2,"0")}s`)};n();const w=setInterval(n,1e3);return()=>clearInterval(w)},[s,i,g]);const _=async n=>{T(!0),L(""),o(null),x(null),R(null);try{const c=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(n)}`)).json();if(!c?.length)throw new Error("Location not found");const{lat:v,lon:S,display_name:m}=c[0],e=m.split(",").map(l=>l.trim());let r;if(n.match(/\d/)&&e[0].match(/^\d/))r=e[0],e[1]&&!e[1].match(/^\d+$/)&&(r+=`, ${e[1]}`);else{r=e[0];for(let u=0;u<e.length-1;u++)if(e[u]&&!/^\d+$/.test(e[u])&&e[u].length>2){r=e[u];break}const l=e[e.length-1];l&&l!==r&&!r.includes(l)&&(r+=`, ${l}`)}y(r);const h=await(await fetch(`https://api.sunrise-sunset.org/json?lat=${v}&lng=${S}&formatted=0`)).json();if(h.status!=="OK")throw new Error("API error");o(new Date(h.results.sunrise).getTime()),x(new Date(h.results.sunset).getTime()),R(h.results.day_length)}catch(w){L(w.message||"Something went wrong")}finally{T(!1)}},q=n=>{n.preventDefault(),f.trim()&&_(f)};return a.useEffect(()=>{!d&&"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(async n=>await _(`${n.coords.latitude},${n.coords.longitude}`),()=>console.log("Geolocation denied"))},[]),t.jsxs("div",{className:"min-h-screen flex items-center justify-center text-white p-4",children:[t.jsx("a",{href:"https://fun.colebetrus.com",className:"absolute top-6 left-6 bg-white/20 hover:bg-white/30 px-5 py-2 rounded-xl backdrop-blur-md transition font-medium z-10",children:"Home"}),t.jsx("div",{className:"max-w-md w-full",children:t.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl shadow-2xl p-8 text-center",children:[t.jsx("h1",{className:"text-5xl font-bold mb-2",children:"Sun Tracker"}),d&&t.jsxs("p",{className:"text-xl opacity-90 mb-8",children:["in ",d]}),t.jsx("form",{onSubmit:q,className:"mb-8",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("input",{type:"text",value:f,onChange:n=>j(n.target.value),placeholder:"Enter city, address, or place...",className:"flex-1 px-5 py-4 rounded-xl bg-white/20 placeholder-white/60 focus:outline-none focus:ring-4 focus:ring-white/50 text-white"}),t.jsx("button",{type:"submit",disabled:$,className:"px-8 py-4 bg-white/30 hover:bg-white/40 rounded-xl font-semibold transition disabled:opacity-50",children:$?"...":"Go"})]})}),k&&t.jsx("p",{className:"text-red-300 mb-6",children:k}),t.jsx("div",{className:"text-5xl md:text-6xl font-bold tracking-wider mb-4 leading-tight",children:b?b.includes("Polar")?t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-4xl md:text-5xl text-yellow-200 opacity-90",children:"Polar Day/Night"}),t.jsx("div",{className:"text-7xl md:text-8xl text-white",children:"Extreme"}),t.jsx("div",{className:"text-5xl md:text-6xl text-white -mt-2",children:"sunlight conditions"})]}):t.jsx("div",{className:"min-h-32 flex items-center justify-center text-6xl md:text-7xl",children:b}):t.jsx("div",{className:"text-6xl md:text-7xl opacity-50",children:"-- : -- : --"})})]})})]})}export{I as default};
